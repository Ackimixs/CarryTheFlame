[gd_scene load_steps=19 format=3 uid="uid://bhoueolub7ran"]

[ext_resource type="PackedScene" uid="uid://cqxbqux2g3knk" path="res://Mobs/Characters/Skeleton_Warrior.glb" id="1_ytvjx"]
[ext_resource type="PackedScene" uid="uid://cerqoo0tt2gvk" path="res://Mobs/Accessories/Skeleton_Axe.gltf" id="2_3dqp1"]
[ext_resource type="Script" uid="uid://sg17natdtt4u" path="res://Mobs/Paterns/Warrior.cs" id="2_fipsx"]
[ext_resource type="AnimationLibrary" uid="uid://co1guw5vupsk8" path="res://Mobs/Animations/Animations_pack/Warrior.res" id="3_6ece0"]
[ext_resource type="Script" uid="uid://0m03aln5mwb1" path="res://Mobs/Paterns/Axe.cs" id="3_hqc6a"]
[ext_resource type="Script" uid="uid://cs80h871jqwah" path="res://Mobs/Paterns/Hitbox.cs" id="4_6ece0"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_q0jf7"]
height = 0.28756714
radius = 0.48339844

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hqc6a"]
animation = &"Warrior/Melee_2H_Attack_Chop"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_q0jf7"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7skeh"]
animation = &"Warrior/Hit_A"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xm1a3"]
animation = &"Warrior/Melee_2H_Idle"

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_1nsa6"]
xfade_time = 1.0
input_0/name = "Idle"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "Walking"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_xwc3s"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kj7xr"]
animation = &"Warrior/Walking_B"

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_j2rll"]
graph_offset = Vector2(-898.3832, -2.6318665)
nodes/Idle/node = SubResource("AnimationNodeAnimation_xm1a3")
nodes/Idle/position = Vector2(-930, 110)
nodes/Walking/node = SubResource("AnimationNodeAnimation_kj7xr")
nodes/Walking/position = Vector2(-910, 300)
nodes/Hit/node = SubResource("AnimationNodeAnimation_7skeh")
nodes/Hit/position = Vector2(-630, 410)
nodes/Attack/node = SubResource("AnimationNodeAnimation_hqc6a")
nodes/Attack/position = Vector2(-240, 400)
nodes/Idle_Walking_Transition/node = SubResource("AnimationNodeTransition_1nsa6")
nodes/Idle_Walking_Transition/position = Vector2(-640, 110)
nodes/Get_Hit/node = SubResource("AnimationNodeOneShot_q0jf7")
nodes/Get_Hit/position = Vector2(-270, 90)
nodes/Is_Attacking/node = SubResource("AnimationNodeOneShot_xwc3s")
nodes/Is_Attacking/position = Vector2(70, 80)
node_connections = [&"output", 0, &"Is_Attacking", &"Idle_Walking_Transition", 0, &"Idle", &"Idle_Walking_Transition", 1, &"Walking", &"Get_Hit", 0, &"Idle_Walking_Transition", &"Get_Hit", 1, &"Hit", &"Is_Attacking", 0, &"Get_Hit", &"Is_Attacking", 1, &"Attack"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_8vang"]
radius = 0.4296875
height = 1.878418

[sub_resource type="SphereShape3D" id="SphereShape3D_o5n4u"]
radius = 0.7

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_b2jqc"]
radius = 0.5385742
height = 1.6118164

[node name="Skeleton_Warrior" instance=ExtResource("1_ytvjx")]
script = ExtResource("2_fipsx")

[node name="Skeleton3D" parent="Rig_Medium" index="0"]
bones/1/position = Vector3(0.008410733, 0.37804586, 0.12657182)
bones/1/rotation = Quaternion(0.16224132, -1.17629895e-07, 1.934067e-08, 0.9867512)
bones/2/rotation = Quaternion(0.12326197, -0.3185187, -0.012084963, 0.9397906)
bones/3/rotation = Quaternion(-0.028599758, 0.15630485, -0.023449915, 0.98701626)
bones/4/position = Vector3(-0.18438104, 0.10691229, 0.03900927)
bones/4/rotation = Quaternion(-0.47824287, 0.03304323, 0.65583473, 0.58315754)
bones/5/rotation = Quaternion(2.2836941e-08, 5.105005e-08, 0.78674716, 0.6172755)
bones/7/rotation = Quaternion(-0.3802089, 0.45344642, -0.10130179, 0.7997285)
bones/8/position = Vector3(0.0061426195, 0.0943766, -0.05627843)
bones/8/rotation = Quaternion(0.4492659, -0.43236268, 0.45230442, 0.6376861)
bones/9/position = Vector3(0.20278455, 0.05587271, 0.15740047)
bones/9/rotation = Quaternion(-0.08591414, -0.41998667, -0.8582614, 0.2821655)
bones/10/rotation = Quaternion(1.5133861e-07, -3.7943305e-08, -0.8488657, 0.5286087)
bones/12/rotation = Quaternion(0.39516234, -0.5743888, 0.12398937, 0.7060814)
bones/13/position = Vector3(5.138565e-10, 0.096125156, -0.057500064)
bones/13/rotation = Quaternion(-6.2219208e-09, 4.3147916e-09, -0.7071068, 0.7071067)
bones/14/rotation = Quaternion(0.04040529, 0.12878731, 0.0009969875, 0.9908483)
bones/15/position = Vector3(0.17094505, 0.11358726, 1.3923275e-08)
bones/15/rotation = Quaternion(0.9450575, 0.0845602, -0.108215876, 0.29665682)
bones/16/rotation = Quaternion(0.40466198, 6.201398e-08, -2.8156478e-07, 0.9144663)
bones/17/rotation = Quaternion(-0.5965203, -0.07727426, 0.07765241, 0.7950864)
bones/18/rotation = Quaternion(-5.603634e-05, 0.9202517, -0.39132702, 1.2742419e-05)
bones/19/rotation = Quaternion(0.9958121, -0.037421547, 0.008047874, -0.083025545)
bones/20/rotation = Quaternion(0.0019680934, -6.783396e-08, 1.3437803e-09, 0.9999981)
bones/21/rotation = Quaternion(-0.56966037, 0.114371985, -0.021777691, 0.81359196)
bones/22/rotation = Quaternion(0.0017258816, 0.916424, -0.4002026, -0.0014543904)

[node name="head" parent="Rig_Medium/Skeleton3D" index="0"]
transform = Transform3D(0.9971706, -0.0058646705, -0.07494244, -0.038680896, 0.8148045, -0.57844377, 0.06445576, 0.57970595, 0.8122724, -0.009160831, 1.106106, 0.52756226)

[node name="Right_Hand" type="BoneAttachment3D" parent="Rig_Medium/Skeleton3D" index="10"]
transform = Transform3D(-0.6872218, -0.2889722, -0.66649824, -0.52247155, -0.44083872, 0.7298508, -0.5047254, 0.8497969, 0.15197477, -0.31899324, 0.641247, 0.33656666)
bone_name = "handslot.r"
bone_idx = 8

[node name="Axe" type="Area3D" parent="Rig_Medium/Skeleton3D/Right_Hand" index="0"]
script = ExtResource("3_hqc6a")

[node name="Skeleton_Axe2" parent="Rig_Medium/Skeleton3D/Right_Hand/Axe" index="0" instance=ExtResource("2_3dqp1")]
transform = Transform3D(1, 5.9604645e-08, 0, 0, 1, -2.9802322e-08, 0, -5.9604645e-08, 1, 0, 0, 0)

[node name="AxeHitbox" type="CollisionShape3D" parent="Rig_Medium/Skeleton3D/Right_Hand/Axe" index="1"]
transform = Transform3D(0.99998856, 1.9909478e-12, -5.456968e-12, -2.7000624e-13, -4.371209e-08, -1, -1.0574857e-12, 0.99998856, -4.3711395e-08, 1.7881393e-07, 0.65665776, 0.0032482147)
shape = SubResource("CylinderShape3D_q0jf7")

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="1"]
libraries = {
&"Warrior": ExtResource("3_6ece0")
}

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
unique_name_in_owner = true
root_node = NodePath("%AnimationTree/..")
tree_root = SubResource("AnimationNodeBlendTree_j2rll")
anim_player = NodePath("../AnimationPlayer")
parameters/Idle_Walking_Transition/current_state = "Idle"
parameters/Idle_Walking_Transition/transition_request = ""
parameters/Idle_Walking_Transition/current_index = 0
parameters/Get_Hit/active = false
parameters/Get_Hit/internal_active = false
parameters/Get_Hit/request = 0
parameters/Is_Attacking/active = false
parameters/Is_Attacking/internal_active = false
parameters/Is_Attacking/request = 0

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="." index="3"]
unique_name_in_owner = true

[node name="Timer" type="Timer" parent="." index="4"]
process_callback = 0
autostart = true

[node name="BodyCollider" type="CollisionShape3D" parent="." index="5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8072823, 0)
shape = SubResource("CapsuleShape3D_8vang")

[node name="Head" type="Area3D" parent="." index="6"]
collision_layer = 4
collision_mask = 2
script = ExtResource("4_6ece0")
Damage = 10

[node name="HeadHitbox" type="CollisionShape3D" parent="Head" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7096018, 0)
shape = SubResource("SphereShape3D_o5n4u")

[node name="Body" type="Area3D" parent="." index="7"]
collision_layer = 4
collision_mask = 2
script = ExtResource("4_6ece0")

[node name="BodyHitbox" type="CollisionShape3D" parent="Body" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.6596724, 0)
shape = SubResource("CapsuleShape3D_b2jqc")
